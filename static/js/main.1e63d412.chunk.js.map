{"version":3,"sources":["model/Plateau.js","model/Rover.js","lib/Validator.js","App.js","index.js"],"names":["Plateau","maxX","maxY","isNaN","parseInt","Error","this","Rover","plateau","positionX","positionY","direction","plateauMaxX","plateauMaxY","position","initialPosition","trim","split","validateInitialPosition","initialParams","length","indexOf","commands","forEach","command","rotateLeft","rotateRight","moveForward","showErrorMessage","Validator","fields","errorMessages","field","push","initialPositionRover1","initialPositionRover2","commandsRover1","commandsRover2","App","useState","setPlateauMaxX","setPlateauMaxY","setInitialPositionRover1","setInitialPositionRover2","setCommandsRover1","setCommandsRover2","outputRover1","setOutputRover1","outputRover2","setOutputRover2","message","toast","error","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","className","id","onSubmit","event","preventDefault","validator","validateForm","rover1","startRover","sendCommands","currentPositionRover1","getCurrentPosition","rover2","currentPositionRover2","e","console","getErrorMessage","errorMessage","type","placeholder","value","onChange","target","onClick","disabled","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e63d412.chunk.js","sourcesContent":["export default class Plateau {\r\n  maxX;\r\n  maxY;\r\n\r\n  constructor(maxX, maxY) {\r\n\r\n    if (isNaN(parseInt(maxX))) throw new Error(\"Plateau Max X is invalid\");\r\n    if (isNaN(parseInt(maxY))) throw new Error(\"Plateau Max Y is invalid\");\r\n\r\n    this.maxX = maxX;\r\n    this.maxY = maxY;\r\n  }\r\n}","export default class Rover {\r\n\r\n    positionX;\r\n    positionY;\r\n    plateauMaxX;\r\n    plateauMaxY;\r\n    direction;\r\n\r\n    constructor(plateau) {\r\n\r\n        if (!parseInt(plateau.maxX)) throw new Error(\"Plateau Max X is invalid\");\r\n        if (!parseInt(plateau.maxY)) throw new Error(\"Plateau Max Y is invalid\");\r\n\r\n        this.positionX = 0;\r\n        this.positionY = 0;\r\n        this.direction = 'N';\r\n        this.plateauMaxX = plateau.maxX;\r\n        this.plateauMaxY = plateau.maxY;\r\n\r\n    }\r\n\r\n    startRover(position) {\r\n        const initialPosition = position.trim().split(' ');\r\n        if (this.validateInitialPosition(initialPosition)) {\r\n            this.positionX = parseInt(initialPosition[0].trim());\r\n            this.positionY = parseInt(initialPosition[1].trim());\r\n            this.direction = initialPosition[2].trim();\r\n        } else {\r\n            throw new Error(\"Rover initial position is invalid\");\r\n        }\r\n    }\r\n\r\n    validateInitialPosition(initialParams) {\r\n\r\n        const validOrientation = ['N', 'S', 'E', 'W'];\r\n\r\n        if (initialParams.length !== 3) return false;\r\n        if (isNaN(parseInt(initialParams[0])) || parseInt(initialParams[0]) < 0) return false;\r\n        if (isNaN(parseInt(initialParams[1])) || parseInt(initialParams[1]) < 0) return false;\r\n        if (validOrientation.indexOf(initialParams[2]) === -1) return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    sendCommands(commands) {\r\n        [...commands].forEach(command => {\r\n            switch (command) {\r\n                case 'L':\r\n                    this.rotateLeft();\r\n                    break;\r\n                case 'R':\r\n                    this.rotateRight();\r\n                    break;\r\n                case 'M':\r\n                    this.moveForward();\r\n                    break;\r\n                default:\r\n                    throw new Error(`Invalid Command: ${command}`);\r\n            }\r\n        });\r\n    }\r\n\r\n    getCurrentPosition() {\r\n        return `${this.positionX} ${this.positionY} ${this.direction}`;\r\n    }\r\n\r\n    showErrorMessage() {\r\n        //console.log(`Can't move there, position out of the plateau`);\r\n    }\r\n\r\n    moveForward() {\r\n        if (this.direction === 'N' && this.positionY < this.plateauMaxY) {\r\n            this.positionY++;\r\n        } else if (this.direction === 'S' && this.positionY > 0) {\r\n            this.positionY--;\r\n        } else if (this.direction === 'E' && this.positionX < this.plateauMaxX) {\r\n            this.positionX++;\r\n        } else if (this.direction === 'W' && this.positionX > 0) {\r\n            this.positionX--;\r\n        } else {\r\n            this.showErrorMessage();\r\n        }\r\n    }\r\n\r\n    rotateLeft() {\r\n        if (this.direction === 'N') this.direction = 'W';\r\n        else if (this.direction === 'S') this.direction = 'E';\r\n        else if (this.direction === 'E') this.direction = 'N';\r\n        else if (this.direction === 'W') this.direction = 'S';\r\n    }\r\n\r\n    rotateRight() {\r\n        if (this.direction === 'N') this.direction = 'E';\r\n        else if (this.direction === 'S') this.direction = 'W';\r\n        else if (this.direction === 'E') this.direction = 'S';\r\n        else if (this.direction === 'W') this.direction = 'N';\r\n    }\r\n\r\n}","export default class Validator {\r\n\r\n    errorMessages = [];\r\n    field = {};\r\n\r\n    constructor(fields) {\r\n        this.field = fields;\r\n     }\r\n\r\n    validateForm() {\r\n        if (isNaN(parseInt(this.field.plateauMaxX)) || parseInt(this.field.plateauMaxX) === 0) this.errorMessages.push(\"Plateau Max X is mandatory\");\r\n        if (isNaN(parseInt(this.field.plateauMaxY)) || parseInt(this.field.plateauMaxY) === 0) this.errorMessages.push(\"Plateau Max Y is mandatory\");\r\n        if (this.field.initialPositionRover1 === \"\") this.errorMessages.push(\"Rover 1 initial position is mandatory\");\r\n        if (this.field.initialPositionRover2 === \"\") this.errorMessages.push(\"Rover 2 initial position is mandatory\");\r\n        if (this.field.commandsRover1 === \"\") this.errorMessages.push(\"Commands Rover 1 is mandatory\");\r\n        if (this.field.commandsRover2 === \"\") this.errorMessages.push(\"Commands Rover 2 is mandatory\");\r\n\r\n        return this.errorMessages.length === 0 ? true : false;\r\n    }\r\n\r\n    getErrorMessage() {\r\n        return this.errorMessages;\r\n    }\r\n\r\n}\r\n\r\n\r\n","import React, { useState } from 'react';\nimport Plateau from './model/Plateau';\nimport Rover from './model/Rover';\nimport Validator from './lib/Validator';\nimport { ToastContainer, toast } from 'react-toastify';\n\nimport './App.css';\n\nfunction App() {\n  const [plateauMaxX, setPlateauMaxX] = useState('');\n  const [plateauMaxY, setPlateauMaxY] = useState('');\n  const [initialPositionRover1, setInitialPositionRover1] = useState('');\n  const [initialPositionRover2, setInitialPositionRover2] = useState('');\n  const [commandsRover1, setCommandsRover1] = useState('');\n  const [commandsRover2, setCommandsRover2] = useState('');\n  const [outputRover1, setOutputRover1] = useState('');\n  const [outputRover2, setOutputRover2] = useState('');\n\n  function fillDemoValues() {\n    setPlateauMaxX('10');\n    setPlateauMaxY('10');\n    setInitialPositionRover1('1 2 N');\n    setInitialPositionRover2('3 3 E');\n    setCommandsRover1('LMLMLMLMM');\n    setCommandsRover2('MRRMMRMRRM');\n  }\n\n  function clearFields() {\n    setPlateauMaxX('');\n    setPlateauMaxY('');\n    setInitialPositionRover1('');\n    setInitialPositionRover2('');\n    setCommandsRover1('');\n    setCommandsRover2('');\n    setOutputRover1('');\n    setOutputRover2('');\n  }\n\n  function showErrorMessage(message) {\n    toast.error(`${message}`, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: \"colored\"\n    });\n  }\n\n  function initializeRovers(event) {\n    event.preventDefault();\n    const fields = { plateauMaxX, plateauMaxY, initialPositionRover1, initialPositionRover2, commandsRover1, commandsRover2, outputRover1, outputRover2 };\n\n    const validator = new Validator(fields);\n\n    if (validator.validateForm()) {\n      try {\n        //Create the Plateau rectangle (10 x 10)\n        const plateau = new Plateau(plateauMaxX, plateauMaxY);\n        const rover1 = new Rover(plateau);\n\n        //Set initial position for the Rover 1\n        rover1.startRover(initialPositionRover1);\n        rover1.sendCommands(commandsRover1);\n\n        const currentPositionRover1 = rover1.getCurrentPosition(commandsRover1);\n\n        setOutputRover1(currentPositionRover1);\n\n        const rover2 = new Rover(plateau);\n\n        rover2.startRover(initialPositionRover2);\n        rover2.sendCommands(commandsRover2);\n\n        const currentPositionRover2 = rover2.getCurrentPosition(commandsRover2);\n\n        setOutputRover2(currentPositionRover2);\n        \n      } catch (e) {\n        console.error(e);\n        showErrorMessage(e);\n      }\n    } else {\n      const errorMessages = validator.getErrorMessage();\n      [...errorMessages].forEach(errorMessage => {\n        showErrorMessage(errorMessage);\n      });\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"content\">\n        <p>Mars Rover in JavaScript.</p>\n        <ToastContainer />\n        <form id=\"rover_form\" onSubmit={initializeRovers}>\n          <label>Plateau max X and max Y:</label>\n          <div className=\"row\">\n            <input\n              type=\"text\"\n              id=\"plateauMaxX\"\n              placeholder=\"Max X\"\n              value={plateauMaxX}\n              onChange={event => setPlateauMaxX(event.target.value)}\n            />\n            <input\n              type=\"text\"\n              id=\"plateauMaxY\"\n              placeholder=\"Max Y\"\n              value={plateauMaxY}\n              onChange={event => setPlateauMaxY(event.target.value)}\n            />\n          </div>\n\n          <hr /><br />\n\n          <label>Rover 1</label>\n          <div className=\"row\">\n            <input\n              type=\"text\"\n              id=\"initialPositionRover1\"\n              placeholder=\"0 0 N - Initial Position\"\n              value={initialPositionRover1}\n              onChange={event => setInitialPositionRover1(event.target.value)}\n            />\n            <input\n              type=\"text\"\n              id=\"commandsRover1\"\n              placeholder=\"LRM - Rover Commands\"\n              value={commandsRover1}\n              onChange={event => setCommandsRover1(event.target.value)}\n            />\n          </div>\n\n          <hr /><br />\n\n          <label>Rover 2</label>\n          <div className=\"row\">\n            <input\n              type=\"text\"\n              id=\"initialPositionRover2\"\n              placeholder=\"0 0 N - Initial Position\"\n              value={initialPositionRover2}\n              onChange={event => setInitialPositionRover2(event.target.value)}\n            />\n            <input\n              type=\"text\"\n              id=\"commandsRover2\"\n              placeholder=\"LRM - Rover Commands\"\n              value={commandsRover2}\n              onChange={event => setCommandsRover2(event.target.value)}\n            />\n          </div>\n\n          <hr /><br />\n\n          <div>\n            <button className=\"btn-start\" type=\"submit\">Start Rovers</button>\n            <button className=\"btn-demo\" type=\"button\" onClick={fillDemoValues}>Demo Values</button>\n            <button className=\"btn-clear\" type=\"button\" onClick={clearFields}>Clear Fields</button>\n          </div>\n\n          <br /><hr /><br />\n\n          <label>Output Rover 1:</label>\n          <input\n            type=\"text\"\n            id=\"outputRover1\"\n            placeholder=\"\"\n            value={outputRover1}\n            onChange={event => setOutputRover1(event.target.value)}\n            disabled\n          />\n          <label>Output Rover 2:</label>\n          <input\n            type=\"text\"\n            id=\"outputRover2\"\n            placeholder=\"\"\n            value={outputRover2}\n            onChange={event => setOutputRover2(event.target.value)}\n            disabled\n          />\n        </form>\n      </div>\n    </div >\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'react-toastify/dist/ReactToastify.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}